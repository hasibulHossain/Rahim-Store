{"version":3,"sources":["components/Navbar/Navbar.js","components/Layout/Layout.js","store/actions/actoinTypes.js","store/actions/productAction/productAction.js","components/Products/Product/Product.js","components/Products/Products.js","components/AddProduct/AddProduct.js","components/EdditProduct/EdditProduct.js","components/Modal/Modal.js","App.js","store/reducer/product.js","store/reducer/index.js","store/index.js","index.js"],"names":["Navbar","className","to","exact","Layout","children","INIT","FETCH_PRODUCT_COMPLETE","DELETE_PRODUCT","EDIT_PRODUCT_INIT","EDIT_PRODUCT","SUBMIT_EDIT_PRODUCT","ADD_PRODUCT","ADD_PRODUCT_FINISH","ADD_PRODUCT_INIT","FETCH_SORTED_PRODUCT_COMPLETE","domain","fetchProducts","dispatch","type","actionTypes","fetch","then","data","json","payload","fetchProductsComplete","products","addProductInit","productData","formData","FormData","append","name","price","expiryDate","image","method","body","addProduct","product","connect","deleteProduct","id","_","actions","getEditProduct","withRouter","props","date","moment","format","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","imageUrl","split","src","alt","onClick","history","push","pathname","state","productsArr","productsRTR","loading","length","style","textAlign","fontSize","map","_id","finishAddProduct","isProductAdded","useState","setName","setPrice","setExpiryDate","setImage","onSubmit","e","images","preventDefault","console","log","htmlFor","placeholder","onChange","target","value","required","accept","files","editProduct","submitEditProduct","useEffect","modalRoot","document","getElementById","Modal","modalContent","closeModal","ReactDOM","createPortal","initialLoadTimeExceed","fetchSortedProducts","openModal","setOpenModal","sortOptionValue","setSortOptionValue","route","path","EdditProduct","content","sortOptionHandler","initialState","inEditPage","productReducer","action","filter","concat","removeOldProduct","updatedProduct","combineReducers","composeEnhancers","compose","store","createStore","rootReducer","applyMiddleware","thunk","render","StrictMode","basename"],"mappings":"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","file":"static/js/main.3c9b3c21.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Navbar.css';\n\nfunction Navbar() {\n    return (\n        <nav className=\"bg-gray-300 mb-20\">\n            <ul>\n                <li className=\"text-3xl text-blue-600\">\n                    &#8477;ahim Store\n                </li>\n                <li className=\"text-lg\">\n                    <NavLink to=\"/\" exact>Home</NavLink>\n                </li>\n                <li className=\"text-lg\">\n                    <NavLink to=\"/add-product\">Add product</NavLink>\n                </li>\n            </ul>\n        </nav>\n    )\n}\n\nexport default Navbar\n","import React from 'react';\nimport Navbar from '../Navbar/Navbar';\n\nfunction Layout({ children }) {\n    return (\n        <>\n            <Navbar />\n            <main className=\"bg-gradient-to-br from-teal-400 to-cyan-500 h-screen\">\n                { children }\n            </main>\n        </>\n    )\n}\n\nexport default Layout\n","export const INIT = \"INIT\";\nexport const PRODUCT_INIT = \"PRODUCT_INIT\";\nexport const FETCH_PRODUCT = \"FETCH_PRODUCT\";\nexport const FETCH_PRODUCT_COMPLETE = \"FETCH_PRODUCT_COMPLETE\";\nexport const DELETE_PRODUCT = \"DELETE_PRODUCT\";\nexport const EDIT_PRODUCT_INIT = \"EDIT_PRODUCT_INIT\";\nexport const EDIT_PRODUCT = \"EDIT_PRODUCT\";\nexport const SUBMIT_EDIT_PRODUCT = \"SUBMIT_EDIT_PRODUCT\";\nexport const ADD_PRODUCT = \"ADD_PRODUCT\";\nexport const ADD_PRODUCT_FINISH = \"ADD_PRODUCT_FINISH\";\nexport const ADD_PRODUCT_INIT = \"ADD_PRODUCT_INIT\";\nexport const FETCH_SORTED_PRODUCT_COMPLETE = \"FETCH_SORTED_PRODUCT_COMPLETE\";\n\n\n","import * as actionTypes from \"../actoinTypes\";\n\nconst domain = '//rahim-store-api.herokuapp.com';\n// const domain = '//localhost:8080';\n\nexport const deleteProduct = (id) => {\n  return dispatch => {\n    const res = fetch(`${domain}/shop/product/${id}`, {\n      method: 'DELETE'\n    })\n\n    res.then(_ => {\n      dispatch({ type: actionTypes.DELETE_PRODUCT, payload: id });\n    })\n  };\n};\n\nconst fetchProductsComplete = (data) => {\n  return {\n    type: actionTypes.FETCH_PRODUCT_COMPLETE,\n    payload: data,\n  };\n};\n\nexport const fetchProducts = () => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.INIT })\n    const res = fetch(`${domain}/shop/products`);\n    res\n      .then((data) => {\n        return data.json();\n      })\n      .then((data) => {\n        dispatch(fetchProductsComplete(data.products));\n      });\n  };\n};\n\nexport const fetchSortedProducts = () => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.INIT })\n    const res = fetch(`${domain}/shop/sorted-products`);\n    res\n      .then((data) => {\n        return data.json();\n      })\n      .then((data) => {\n        dispatch({ type: actionTypes.FETCH_SORTED_PRODUCT_COMPLETE, payload: data.products });\n      });\n  };\n};\n\nconst addProduct = productData => {\n  return {\n    type: actionTypes.ADD_PRODUCT,\n    payload: productData\n  }\n}\n\nconst addProductComplete = () => {\n  return {\n    type: actionTypes.ADD_PRODUCT_FINISH\n  }\n}\n\nexport const addProductInit = (productData) => {\n  // how to submit form with file\n  const formData = new FormData();\n  formData.append('name', productData.name);\n  formData.append('price', productData.price);\n  formData.append('expiryDate', productData.expiryDate);\n  formData.append('image', productData.image);\n\n  return dispatch => {\n    dispatch({ type: actionTypes.ADD_PRODUCT_INIT })\n    const res = fetch(`${domain}/shop/product`, {\n      method: \"POST\",\n      body: formData\n    });\n\n    res.then(data => {\n      dispatch(addProductComplete());\n      return data.json();\n    })\n      .then(data => {\n        dispatch(addProduct(data.product))\n      })\n  }\n\n}\n\nexport const submitEditProduct = (productData, id) => {\n  // how to submit form with file\n  const formData = new FormData();\n  formData.append('name', productData.name);\n  formData.append('price', productData.price);\n  formData.append('expiryDate', productData.expiryDate);\n  formData.append('image', productData.image);\n  return dispatch => {\n    const res = fetch(`${domain}/shop/product/${id}`, {\n      method: \"PUT\",\n      body: formData\n    });\n\n    res.then(data => {\n      return data.json();\n    })\n      .then(data => {\n        dispatch({ type: actionTypes.SUBMIT_EDIT_PRODUCT, payload: data.product })\n      })\n  }\n\n}\n\nexport const getEditProduct = (id) => {\n\n  return dispatch => {\n    dispatch({ type: actionTypes.EDIT_PRODUCT_INIT });\n    const res = fetch(`${domain}/shop/product/${id}`);\n    res.then(product => {\n      return product.json();\n    })\n      .then(product => {\n        dispatch({ type: actionTypes.EDIT_PRODUCT, payload: product.product })\n      })\n  }\n}\n","import React from \"react\";\nimport moment from \"moment\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from 'react-router-dom'\nimport * as actions from \"../../../store/actions/index\";\nimport './Product.css';\n\nfunction Product(props) {\n  const date = moment(props.expiryDate).format(\"DD, MMM, YYYY\");\n  return (\n    <li className=\"flex mb-12 bg-white shadow-lg rounded-t-lg rounded-l-lg product-width\">\n      <div className=\"relative flex-shrink-0 w-64 h-full bg-gray-200 \">\n        <svg\n          // className=\"w-6 h-6\"\n          className=\"text-white\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"2\"\n            d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n          ></path>\n        </svg>\n        {\n          props.imageUrl.split('/')[1] === 'images' && <img\n            src={ `//rahim-store-api.herokuapp.com${props.imageUrl}` }\n            alt={ props.name }\n            className=\"absolute inset-0 w-full h-full object-cover rounded-l-lg\"\n          />\n        }\n\n      </div>\n      <div className=\"p-8 flex-auto flex-shrink bg-gray-50 rounded-r-lg\">\n        <div className=\"product-info\">\n          <div className=\"flex justify-between mb-4\">\n            <div className=\"w-10/12\">\n              <h1 className=\"capitalize text-2xl font-semibold mb-3\">\n                { props.name }\n              </h1>\n            </div>\n            <div className=\"flex item-center font-semibold text-gray-500 mr-2 text-3xl\">\n              <strong className=\"text-lg\">&#2547;</strong>\n              <p>\n                { props.price }\n              </p>\n            </div>\n          </div>\n          <div className=\"font-medium mb-4\">\n            Expiry Date:\n            <span className=\"pl-2\">{ date }</span>\n          </div>\n        </div>\n        <div className=\"flex mt-8 xl:w-full\">\n          <button\n            className=\"btn-edit w-20 p-2 mr-4 border rounded-lg bg-blue-600 ring ring-transparent focus:ring-blue-300 text-white\"\n            type=\"button\" onClick={ () => {\n              props.history.push({ pathname: '/edit-product' });\n              return props.getEditProduct(props.id)\n            } }\n          >\n            Edit\n          </button>\n          <button\n            className=\"btn-dlt w-20 p-2 border rounded-md text-white ring ring-transparent bg-red-600 focus:ring-red-300\"\n            type=\"button\"\n            onClick={ () => props.deleteProduct(props.id) }\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    deleteProduct: (id) => dispatch(actions.deleteProduct(id)),\n    getEditProduct: (id) => dispatch(actions.getEditProduct(id))\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(withRouter(Product));\n","import React from \"react\";\n\nimport Product from \"./Product/Product\";\nimport { connect } from \"react-redux\";\n\n// interface ProductsType {\n//   productsArr: { userId: number; id: number; title: number }[];\n// }\n\nfunction Products(props) {\n  let products;\n\n\n  if (props.productsArr.length === 0) {\n    products = <p style={ { textAlign: 'center', fontSize: '4rem' } }>Product list is empty</p>;\n  }\n\n  if (props.loading) {\n    return <p style={ { textAlign: 'center', fontSize: '4rem' } }>loading...</p>\n  }\n\n  if (!props.productsArr) {\n    products = <p style={ { textAlign: 'center', fontSize: '4rem' } }>Refresh browser &#9785; </p>;\n  }\n\n  if (props.productsArr.length > 0) {\n    products = (\n      <ul className=\"flex flex-col justify-center items-center p-4\">\n        {props.productsArr.map((product) => (\n          <Product\n            key={ product._id }\n            name={ product.name }\n            price={ product.price }\n            imageUrl={ product.imageUrl }\n            expiryDate={ product.expiryDate }\n            id={ product._id }\n          />\n        )) }\n      </ul>\n    );\n  }\n\n\n  return products;\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    productsArr: state.productsRTR.products,\n    loading: state.productsRTR.loading\n  };\n};\n\nexport default connect(mapStateToProps)(Products);\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom'\nimport * as actions from '../../store/actions/index';\nimport './AddProduct.css'\n\nfunction AddProduct(props) {\n    const [name, setName] = useState('');\n    const [price, setPrice] = useState(0);\n    const [expiryDate, setExpiryDate] = useState('');\n    const [image, setImage] = useState(null);\n    const submitHandler = e => {\n        e.preventDefault();\n        let images;\n\n        if (image) {\n            for (let img of image) {\n                images = img;\n            }\n        } else {\n            console.log('from add product else block >>>>')\n            images = \"\";\n        }\n\n        const data = {\n            name: name,\n            price: +price,\n            expiryDate: expiryDate,\n            image: images\n        }\n        props.addProductInit(data)\n        props.history.push({ pathname: '/' })\n    }\n\n    return (\n        <div className=\"flex justify-center\">\n            <form className=\"w-2/6\" onSubmit={ submitHandler }>\n                <div className=\"mb-8\">\n                    <label className=\"block pb-2\" htmlFor=\"name\">Name</label>\n                    <input className=\"w-full py-2 px-4 border-b-2 border-transparent rounded bg-gray-100 focus:border-blue-600 \" type=\"text\" name=\"name\" placeholder=\"Product Name\" onChange={ (e) => setName(e.target.value) } required />\n                </div>\n                <div className=\"mb-8\">\n                    <label className=\"block pb-2\" htmlFor=\"price\">Price</label>\n                    <input className=\"w-full py-2 px-4 border-b-2 rounded bg-gray-100 focus:border-blue-600 border-transparent\" type=\"text\" name=\"price\" placeholder=\"Product Price\" onChange={ (e) => setPrice(e.target.value) } required />\n                </div>\n                <div className=\"mb-8\">\n                    <label className=\"block pb-2\" htmlFor=\"expiry-date\">Expiry Date</label>\n                    <input className=\"w-full py-2 px-4 rounded bg-gray-100\" type=\"date\" name=\"expiry-date\" onChange={ (e) => setExpiryDate(e.target.value) } required />\n                </div>\n                <div className=\"mb-8\">\n                    <label className=\"block pb-2\" htmlFor=\"image\">Image</label>\n                    <input className=\"w-full py-2 px-4 border-b-2 rounded bg-gray-100 border-gray-200\" type=\"file\" accept=\".jpg, .jpeg, .png\" name=\"image\" onChange={ (e) => setImage(e.target.files) } />\n                </div>\n                <button className=\"bg-blue-600 py-1 px-6 ring focus:ring-4 rounded text-white\" type=\"submit\">submit</button>\n            </form>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        finishAddProduct: state.productsRTR.isProductAdded\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        addProductInit: (data) => dispatch(actions.addProductInit(data))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(AddProduct));\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\n\nimport * as actions from '../../store/actions/index';\n\nfunction EditProduct(props) {\n    const [name, setName] = useState('');\n    const [price, setPrice] = useState(0);\n    const [expiryDate, setExpiryDate] = useState('');\n    const [image, setImage] = useState(null);\n    const editProduct = props.editProduct[0];\n\n    const submitHandler = e => {\n        e.preventDefault();\n        let images;\n\n        if (image) {\n            for (let img of image) {\n                images = img;\n            }\n        } else {\n            console.log('from eddit image else block>>>')\n            images = editProduct.imageUrl;\n        }\n\n        const data = {\n            name: name,\n            price: +price,\n            expiryDate: expiryDate,\n            image: images\n        }\n        props.submitEditProduct(data, editProduct._id)\n        props.history.push({ pathname: '/' })\n    }\n\n\n    useEffect(() => {\n        if (editProduct) {\n            setPrice(editProduct.price);\n            setExpiryDate(editProduct.expiryDate);\n            setName(editProduct.name);\n        }\n    }, [editProduct])\n\n\n    if (!props.loading) {\n        return (\n            <div className=\"flex justify-center\">\n                <form className=\"w-2/6\" onSubmit={ submitHandler }>\n                    <div className=\"mb-8\">\n                        <label className=\"block pb-2\" htmlFor=\"name\">Name</label>\n                        <input className=\"w-full py-2 px-4 border-b-2 rounded bg-gray-100 focus:border-blue-600 border-transparent\" type=\"text\" value={ name } name=\"name\" placeholder=\"Product Name\" onChange={ (e) => setName(e.target.value) } required />\n                    </div>\n                    <div className=\"mb-8\">\n                        <label className=\"block pb-2\" htmlFor=\"price\">Price</label>\n                        <input className=\"w-full py-2 px-4 border-b-2 rounded bg-gray-100 focus:border-blue-600 border-transparent\" type=\"text\" value={ price } name=\"price\" placeholder=\"Product Price\" onChange={ (e) => setPrice(e.target.value) } required />\n                    </div>\n                    <div className=\"mb-8\">\n                        <label className=\"block pb-2\" htmlFor=\"expiry-date\">Expiry Date</label>\n                        <input className=\"w-full py-2 px-4 rounded bg-gray-100\" type=\"date\" value={ expiryDate } name=\"expiry-date\" onChange={ (e) => setExpiryDate(e.target.value) } required />\n                    </div>\n                    <div className=\"mb-8\">\n                        <label className=\"block pb-2\" htmlFor=\"image\">Image</label>\n                        <input className=\"w-full py-2 px-4 border-b-2 rounded bg-gray-100 focus:border-blue-600 border-transparent\" type=\"file\" accept=\".jpg, .jpeg, .png\" name=\"image\" onChange={ (e) => setImage(e.target.files) } />\n                    </div>\n                    <button className=\"bg-blue-600 py-1 px-6 ring focus:ring-4 rounded text-white\" type=\"submit\">submit</button>\n                </form>\n            </div>\n        )\n    }\n\n    return <p style={ { textAlign: 'center', fontSize: '4rem' } }>loading...</p>\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        editProduct: state.productsRTR.editProduct,\n        loading: state.productsRTR.loading\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        submitEditProduct: (data, id) => dispatch(actions.submitEditProduct(data, id))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(EditProduct));\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Modal.css'\nconst modalRoot = document.getElementById('modal-root');\n\nfunction Modal(props) {\n    let modalContent = (\n        <div className=\"modal-wrapper\">\n            <div onClick={ () => props.closeModal() } className=\"modal-backdrop\"></div>\n            <h1>From Modal</h1>\n            <div className=\"modal-box p-8 rounded-md bg-gray-100\">\n                <div className=\"flex flex-col items-center\">\n                    { props.children }\n                    <div>\n                        <button className=\"bg-blue-600 py-1 px-6 ring focus:ring-4 rounded text-white\" onClick={ () => props.closeModal() }>Okay</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n\n    return ReactDOM.createPortal(modalContent, modalRoot)\n}\n\nexport default Modal\n\n\n// This is the way when we need clean up after close modal\n\n// function Modal(props) {\n//     const div = document.createElement('div');\n//     modalRoot.appendChild(div);\n//     div.className=\"modal\";\n\n//     useEffect(() => {\n//         modalRoot.appendChild(div);\n\n//         return () => modalRoot.removeChild(div)\n//     })\n//     return ReactDOM.createPortal(props.children, div);\n// }","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { connect } from \"react-redux\";\nimport { Route, Switch } from 'react-router-dom';\nimport Layout from './components/Layout/Layout';\n\n// local imports\nimport Products from \"./components/Products/Products\";\nimport AddProduct from './components/AddProduct/AddProduct';\nimport EdditProduct from './components/EdditProduct/EdditProduct';\nimport * as actions from \"./store/actions/index\";\n\nimport Modal from './components/Modal/Modal';\nfunction App(props) {\n  const [openModal, setOpenModal] = useState(false);\n  const [sortOptionValue, setSortOptionValue] = useState('')\n\n  let route = (\n    <Switch>\n      <Route path=\"/\" exact >\n        <Products />\n      </Route>\n      <Route path=\"/add-product\">\n        <AddProduct />\n      </Route>\n      <Route path=\"/edit-product\">\n        <EdditProduct />\n      </Route>\n    </Switch>\n  )\n  const sortOptionHandler = e => {\n    e.preventDefault();\n    const value = e.target.value;\n    if (value === 'byExpiryDate') {\n      props.fetchSortedProducts()\n    }\n\n    setSortOptionValue(e.target.value);\n    console.log(e.target.value)\n  }\n\n  const closeModal = () => {\n    setOpenModal(!openModal)\n  }\n\n  useEffect(() => {\n    // setTimeout(() => {\n    //   if (props.initialLoadTimeExceed) {\n    //     console.log('I am from timeout ', props.initialLoadTimeExceed)\n    //     setOpenModal(true)\n    //   }\n    // }, 7000);\n\n    props.fetchProducts();\n  }, []);\n\n  let content = <div></div>\n  if (openModal) {\n    content = (\n      <Modal closeModal={ closeModal }>\n        <h1 className=\"text-4xl mb-8\">Slow?</h1>\n        <p className=\"mb-16 text-lg\">It may takes few sec to load for first time. Cause after 30 minutes of inactivity heroku dynos goes to idle state.(free tier)</p>\n      </Modal>\n    )\n  }\n  return (\n    <>\n      {content }\n      <Layout>\n        <div className=\"flex flex-col items-end mr-16\">\n          <p>Filter Products</p>\n          <select value={ sortOptionValue } onChange={ (e) => sortOptionHandler(e) }>\n            <option value=\"byPrice\" >byPrice</option>\n            <option value=\"byExpiryDate\">By expiry date</option>\n          </select>\n        </div>\n        { route }\n      </Layout>\n    </>\n  );\n}\n\nconst mapStateToProps = state => {\n  return {\n    initialLoadTimeExceed: state.productsRTR.initialLoadTimeExceed\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchProducts: () => dispatch(actions.fetchProducts()),\n    fetchSortedProducts: () => dispatch(actions.fetchSortedProducts())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import * as actionTypes from \"../actions/actoinTypes\";\n\nconst initialState = {\n  products: [],\n  editProduct: [],\n  isProductAdded: false,\n  inEditPage: false,\n  loading: false,\n  initialLoadTimeExceed: false\n};\n\nconst productReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.INIT:\n      return {\n        ...state,\n        loading: true\n      }\n\n    case actionTypes.FETCH_PRODUCT_COMPLETE:\n      return {\n        ...state,\n        loading: false,\n        initialLoadTimeExceed: false,\n        products: action.payload,\n      };\n\n    case actionTypes.FETCH_SORTED_PRODUCT_COMPLETE:\n      return {\n        ...state,\n        loading: false,\n        initialLoadTimeExceed: false,\n        products: action.payload,\n      };\n\n    case actionTypes.DELETE_PRODUCT:\n      return {\n        ...state,\n        products: state.products.filter(product => product._id !== action.payload)\n      };\n\n    case actionTypes.ADD_PRODUCT_INIT:\n      return {\n        ...state,\n        loading: true\n      }\n\n    case actionTypes.ADD_PRODUCT_FINISH:\n      return {\n        ...state,\n        loading: false,\n        isProductAdded: true,\n        inEditPage: false,\n        editProduct: []\n      }\n\n    case actionTypes.ADD_PRODUCT:\n      return {\n        ...state,\n        isProductAdded: false,\n        products: state.products.concat(action.payload)\n      }\n\n    case actionTypes.EDIT_PRODUCT_INIT:\n      return {\n        ...state,\n        loading: true,\n      }\n\n    case actionTypes.EDIT_PRODUCT:\n      return {\n        ...state,\n        loading: false,\n        editProduct: [action.payload]\n      }\n\n    case actionTypes.SUBMIT_EDIT_PRODUCT:\n      const removeOldProduct = state.products.filter(product => product._id !== action.payload._id);\n      const updatedProduct = removeOldProduct.concat(action.payload)\n      return {\n        ...state,\n        loading: false,\n        products: updatedProduct\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default productReducer;\n","import { combineReducers } from \"redux\";\n\n//reducers\nimport productReducer from \"./product\";\n\nexport default combineReducers({\n  productsRTR: productReducer,\n});\n","import { compose, createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\n\nimport rootReducer from \"./reducer/index\";\n\nconst composeEnhancers =\n  (process.env.NODE_ENV === \"development\" &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\n  compose;\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n);\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/index\";\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={ store }>\n      <Router basename=\"/Rahim-Store\">\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}